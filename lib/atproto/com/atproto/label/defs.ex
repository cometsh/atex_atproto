defmodule Com.Atproto.Label.Defs do
  @moduledoc false
  use Atex.Lexicon

  deflexicon(%{
    "defs" => %{
      "label" => %{
        "description" => "Metadata tag on an atproto resource (eg, repo or record).",
        "properties" => %{
          "cid" => %{
            "description" =>
              "Optionally, CID specifying the specific version of 'uri' resource this label applies to.",
            "format" => "cid",
            "type" => "string"
          },
          "cts" => %{
            "description" => "Timestamp when this label was created.",
            "format" => "datetime",
            "type" => "string"
          },
          "exp" => %{
            "description" => "Timestamp at which this label expires (no longer applies).",
            "format" => "datetime",
            "type" => "string"
          },
          "neg" => %{
            "description" => "If true, this is a negation label, overwriting a previous label.",
            "type" => "boolean"
          },
          "sig" => %{
            "description" => "Signature of dag-cbor encoded label.",
            "type" => "bytes"
          },
          "src" => %{
            "description" => "DID of the actor who created this label.",
            "format" => "did",
            "type" => "string"
          },
          "uri" => %{
            "description" =>
              "AT URI of the record, repository (account), or other resource that this label applies to.",
            "format" => "uri",
            "type" => "string"
          },
          "val" => %{
            "description" => "The short string name of the value or type of this label.",
            "maxLength" => 128,
            "type" => "string"
          },
          "ver" => %{
            "description" => "The AT Protocol version of the label object.",
            "type" => "integer"
          }
        },
        "required" => ["src", "uri", "val", "cts"],
        "type" => "object"
      },
      "labelValue" => %{
        "knownValues" => [
          "!hide",
          "!no-promote",
          "!warn",
          "!no-unauthenticated",
          "dmca-violation",
          "doxxing",
          "porn",
          "sexual",
          "nudity",
          "nsfl",
          "gore"
        ],
        "type" => "string"
      },
      "labelValueDefinition" => %{
        "description" => "Declares a label value and its expected interpretations and behaviors.",
        "properties" => %{
          "adultOnly" => %{
            "description" =>
              "Does the user need to have adult content enabled in order to configure this label?",
            "type" => "boolean"
          },
          "blurs" => %{
            "description" =>
              "What should this label hide in the UI, if applied? 'content' hides all of the target; 'media' hides the images/video/audio; 'none' hides nothing.",
            "knownValues" => ["content", "media", "none"],
            "type" => "string"
          },
          "defaultSetting" => %{
            "default" => "warn",
            "description" => "The default setting for this label.",
            "knownValues" => ["ignore", "warn", "hide"],
            "type" => "string"
          },
          "identifier" => %{
            "description" =>
              "The value of the label being defined. Must only include lowercase ascii and the '-' character ([a-z-]+).",
            "maxGraphemes" => 100,
            "maxLength" => 100,
            "type" => "string"
          },
          "locales" => %{
            "items" => %{"ref" => "#labelValueDefinitionStrings", "type" => "ref"},
            "type" => "array"
          },
          "severity" => %{
            "description" =>
              "How should a client visually convey this label? 'inform' means neutral and informational; 'alert' means negative and warning; 'none' means show nothing.",
            "knownValues" => ["inform", "alert", "none"],
            "type" => "string"
          }
        },
        "required" => ["identifier", "severity", "blurs", "locales"],
        "type" => "object"
      },
      "labelValueDefinitionStrings" => %{
        "description" =>
          "Strings which describe the label in the UI, localized into a specific language.",
        "properties" => %{
          "description" => %{
            "description" =>
              "A longer description of what the label means and why it might be applied.",
            "maxGraphemes" => 10000,
            "maxLength" => 100_000,
            "type" => "string"
          },
          "lang" => %{
            "description" => "The code of the language these strings are written in.",
            "format" => "language",
            "type" => "string"
          },
          "name" => %{
            "description" => "A short human-readable name for the label.",
            "maxGraphemes" => 64,
            "maxLength" => 640,
            "type" => "string"
          }
        },
        "required" => ["lang", "name", "description"],
        "type" => "object"
      },
      "selfLabel" => %{
        "description" =>
          "Metadata tag on an atproto record, published by the author within the record. Note that schemas should use #selfLabels, not #selfLabel.",
        "properties" => %{
          "val" => %{
            "description" => "The short string name of the value or type of this label.",
            "maxLength" => 128,
            "type" => "string"
          }
        },
        "required" => ["val"],
        "type" => "object"
      },
      "selfLabels" => %{
        "description" =>
          "Metadata tags on an atproto record, published by the author within the record.",
        "properties" => %{
          "values" => %{
            "items" => %{"ref" => "#selfLabel", "type" => "ref"},
            "maxLength" => 10,
            "type" => "array"
          }
        },
        "required" => ["values"],
        "type" => "object"
      }
    },
    "id" => "com.atproto.label.defs",
    "lexicon" => 1
  })
end
